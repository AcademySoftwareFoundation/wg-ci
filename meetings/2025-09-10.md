---
title: 2025-09-10
parent: Meetings
---

# ASWF CI Working Group

Meeting:   10 September 2025

[https://zoom-lfx.platform.linuxfoundation.org/meeting/97730566101?password=cb28b3b9-f744-46d0-ab69-d9f75f1b8668](https://zoom-lfx.platform.linuxfoundation.org/meeting/97730566101?password=cb28b3b9-f744-46d0-ab69-d9f75f1b8668)

## Attendees

* Jean-Francois Panisset, VES Technology Committee
* Larry Gritz, Sony Imageworks / OSL / OIIO
* Stephen Mackenzie, NVIDIA / Rez
* Eric Salituro
* Andrew Grimberg, LF RelEng

## Apologies

*

## New items

* aswf-docker 2024.3 / 2025.2 / 2026.0 release post mortem
  * tried to hit arbitrary SIGGRAPH deadline
  * some issues due to config between multiple files
  * 2024.3 first 2024 images with Conan 2 recipes
  * compiler-rt missing from Conan 2 clang / llvm recipe (ASAN)
  * confusion between libraw-devel in base image vs Conan package
  * CMake behavior when building inside vs outside Conan context
  * insufficient testing of "outside Conan" builds in ci-XXXX images
    * How much of a project's build should be covered?
    * Any strategies to avoid breaking project CI builds when releasing new images?
    * Should projects always pin to a specific 202x.y release?
      * Larry: I had never pinned to a specific version before last week, had to do it for "release season". I think it just needs to be documented, tell the projects they have two choices. If they want to have their CI never break, pin it, but then take responsibility for watching the release channels to update to the new containers. OR don't pin it, and tolerate that once in a while that CI may break. Different projects may have different tolerances, may wish to pin on release branches, and let it float on dev branches.
      * JF: I won't aim for SIGGRAPH again!
      * Larry: the issue with pinning is that in previous years I had been OK to break, I had been asking for aswftesting containers, was happy to be the canary. But it had been an issue, so I got rid of aswftesting.
      * JF: hard to justify releasing everything twice, so I've given up on the aswftesting containers.
      * Larry: "pin in release branches, float in main" seems like the right way to go.
      * JF: need a "how to use" document.
  * next set of releases coming up
    * address all reported issues
    * optimization to avoid rebuilding Conan base image for every package (10 minutes to release an empty Conan wrapper package)
    * not addressing OpenEXR 3.4 yet / will need to provide OpenJPH Conan package
    * still need OCIO 2.5 / OpenVDB 14 for "feature complete" 2026 images
  * Stephen: is it one Docker container per job? JF: no, unfortunately one GHA job per Conan package. Stephen: passing the Conan cache from job to job can help to parallelize per project, then re-assemble at the end, so you can have your base container, with each job as a "layer", pulling the Conan cache for their dependencies. You can whatever parallelism you can for the dependency chain? Not sure if we can incorporate that kind of workflow? We're doing this internally. Conan caches can be big, so want to be smart about what you pull in.
* GHA startup time optimization / multiple builds
  * CMake multi config?
  * Debug vs Release, gcc vs clang
  * Avoiding side effects
  * Larry: have prototype this approach, seems to work fine, will propose a PR
* boost-python / pybind11 / nanobind
  * Imath 3.2 has beta support for pybind11 bindings
  * [pybind11 3.0.0 is released](https://github.com/pybind/pybind11/releases/tag/v3.0.0)
  * [pybind11 / nanobind interoperability](https://github.com/wjakob/nanobind/pull/1140)
* GHA `${{github.ref}}` weirdness
* Windows containers (Larry)
  * Larry: question came up on one of the chats (or maybe a DM), was for rawtoaces, a very revitalized project. They are saying that it's very long to run the Windows CI job, the Linux jobs are so much faster. What should we do? What are our options going forward? Is there a technical hurdle to any of that? Or it is just we don't have time and expertise.
  * Docker BuildKit on Windows is available
  * Larry: it would be very helpful, OIIO and OSL eat the cost of CI job times since we have to build dependencies from scratch, and we don't build all the dependencies so less test coverage. vcpkg builds all from scratch as well.
  * Larry: we have some member companies that have been a bit MIA in terms of their FTE contributions, they may not be directly support our products. But this could be a place to contribute, especially if they have Windows build / DevOps. There may be an opportunity for companies who have been waiting to make a contribution, and don't know this issue exists.
  * Stephen: our setup is GitLab specific, wish I could lift and plonk our Conan setup, we do Linux and Windows builds, but it's GitLab specific.

## Follow Ups

* SonarQube for OIIO
  * Did it get recreated in SonarCloud
  * Larry: ticket opened with LF releng, they responded with a question that seemed to show misunderstanding of the issue. Need to follow up via Jira. Asking to reset the project under the ASWF org. Seems to be due to a corrupted database, and since we don't run the server ourselves, best to remove and add back the project from SonarCloud. RelEng wanted to make sure it wasn't a simpler problem. I need to follow up.
  * Larry: was hoping the fix the related to downloading via action vs the one built into the aswf-docker image, but that wasn't it. It just stopped working one day without any changes on my side. So a database corruption seems likely (also based on Internet reported issues).
  * Andrew: I can see the ticket. We can do the "delete and recreate". Sonar recently sent a CVE. Larry: I saw the CVE, that reminded me to chase down the issue. We don't actually need the GHA action since the Sonar client is already in the ci-XXXX container image.
  * Stephen: when Rez was initially doing SonarCloud, every month or 2 it would stop scanning, had to repeatedly toggle a setting in the control panel. Let me identify the setting...
  * Stephen: I no longer have to toggle this option since we're using the Action based scanning, but it may still matter: Administration -> Analysis Method -> Automatic Analysis should be off when using Actions, but may have to toggle it. In theory want it off is SonarCloud action toggled from Actions, but may need to toggle it.
  * Andrew: it toggled the setting
  * Stephen: if this doesn't work, I would support deleting the OIIO registration and recreating it
  * Larry: not sure I care too much about the smells, but very much try to address anything related to security. Trying to trace down all the smells in a legacy code base could take forever. Stephen: also contextual to the type of software, for instance a web service. Larry: SonarCloud always says I have a file that encapsulates SIMD intrinsics, which you use shuffle (the intrinsic), SonarCloud thinks this is a cryptographic shuffle and tells me I'm doing this wrong and I should use a standard random number generator. I don't want to rename all my functions to make it happy. You can add a comment, but has to be for every instance. Stephen: it's supposed to follow the git history? Andrew: only if it's using the GitHub Action. Larry: but it has found things that are worth fixing, so I don't want to abandon it. There is value in running it. Also has a good code coverage interface, can rank files by percentage of uncovered code. Stephen: for shuffle() there's a "noqa" flag? Larry: doesn't seem to help. Maybe it's confused because it's implemented as a macro.
  * Larry: kicked off a SonarCloud job to check.
* Semgrep for Rez
  * Stephen: no update, some confusion about commercial vs open source account. It has been radio silence for the moment, seemed to die on the vine, I need to ping the LF person to pick it back up again, there seem to be some crossed wires about who exactly to be talking to on the semgrep side due to confusion between commercial-accounts vs open-source-accounts.
  * Andrew: IT-28190, you are working with Vanessa. Something about a meeting? Stephen: I had the meeting with Semgrep by myself, but he was on the commercial side, not the open source side. It was not simple to schedule! Andrew: I'll add an internal comment.
  * Semgrep also covers security issues. Stephen: Semgrep is more configurable, can also be configured to fix things on the fly. "Semantic Grep", some semantic understanding of the language, like in Python. So it doesn't care about indentation, more like operating at the AST level, it can find and understand a keyword argument to a certain function in a certain order, find where those are, are you using them correctly.
* For pay runner budget
  * Andrew: still running under budget for last few months ($1500/month)
  * Have consumed over $8K for the year, so 50% for 2/3 of the year.
  * OpenVDB release coming up. Larry: that could keep jobs running from projects? Andrew: will get notification and can adjust the cap since the credit card has higher version.
* PyPI Organization for aswf
  * More project joined (7 so far)
    * Need to get OCIO in there
    * Need to follow up on remaining ASFW projects

## Tools and Links

* [Internals of a Git Repository](https://drew.silcock.dev/blog/artisanal-git/)
* [Google OSS Rebuild](https://security.googleblog.com/2025/07/introducing-oss-rebuild-open-source.html)
* [Clang hardening options](https://discourse.llvm.org/t/rfc-hardening-mode-for-the-compiler/87660)
* [Real Time Build Time Visualization](https://danielchasehooper.com/posts/syscall-build-snooping/)
* [PyPI and Domain Resurrection Attacks](https://blog.pypi.org/posts/2025-08-18-preventing-domain-resurrections/)
